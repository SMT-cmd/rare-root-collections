<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RARE ROOT | Prestige Streetwear</title>
    <meta name="description" content="RARE ROOT â€” premium Nigerian streetwear. Prestige in every thread.">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics-compat.js"></script>
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <style>
:root{--bg-dark:#2b1f1a;--bg-wine:#3a2a22;--bg-card:rgba(255,255,255,0.05);--text-gold:#d8a35d;--text-cream:#efe6d9;--accent-red:#b23a3a;--success:#27ae60;--glass:rgba(58,42,34,0.7);--glass-border:rgba(255,255,255,0.1);--font-head:'Cinzel',serif;--font-body:'Inter',sans-serif;--shadow:0 8px 32px rgba(0,0,0,0.37);--transition:all 0.3s cubic-bezier(0.25,1,0.5,1)}
*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:var(--font-body);background-color:var(--bg-dark);background-image:radial-gradient(1200px 800px at 20% 10%,rgba(216,163,93,0.08),transparent 70%),radial-gradient(900px 600px at 80% 30%,rgba(216,163,93,0.06),transparent 70%),url("https://www.transparenttextures.com/patterns/white-linen.png");background-blend-mode:normal,normal,multiply;background-size:auto,auto,300px 300px;color:var(--text-cream);overflow-x:hidden;line-height:1.6;min-height:100vh;width:100%}
body::-webkit-scrollbar{width:6px}
body::-webkit-scrollbar-track{background:var(--bg-dark)}
body::-webkit-scrollbar-thumb{background:rgba(216,163,93,0.3);border-radius:3px}
.glass-card{background:var(--bg-card);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid var(--glass-border);border-radius:16px;box-shadow:var(--shadow)}
.promo-banner{background:linear-gradient(90deg,var(--text-gold),#c9954e,var(--text-gold));background-size:200% 100%;animation:shimmer 3s infinite;color:var(--bg-dark);text-align:center;padding:10px 20px;font-size:0.8rem;font-weight:600;position:fixed;top:0;left:0;right:0;z-index:1001;display:flex;align-items:center;justify-content:center;gap:15px}
@keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}
.promo-banner .close-promo{background:none;border:none;color:var(--bg-dark);cursor:pointer;font-size:1rem}
nav{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;position:fixed;top:38px;left:0;right:0;width:100%;z-index:1000;background:rgba(58,42,34,0.9);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,0.05);transition:var(--transition);max-width:100vw}
nav.scrolled{top:0;background:rgba(43,31,26,0.98);padding:10px 20px}
.menu-btn{background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);color:#fff;width:42px;height:42px;border-radius:10px;font-size:1.1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition);flex-shrink:0}
.menu-btn:hover{background:rgba(255,255,255,0.15);color:var(--text-gold)}
.logo{display:flex;align-items:center;justify-content:center;flex:1;padding:0 15px}
.nav-logo-img{height:45px;width:auto;max-width:100%;display:block;transition:var(--transition)}
.nav-logo-img:hover{transform:scale(1.05)}
.nav-actions{display:flex;align-items:center;gap:10px;flex-shrink:0}
.search-box{position:relative;display:flex;align-items:center}
.search-box input{width:160px;padding:10px 14px 10px 38px;background:rgba(0,0,0,0.3);border:1px solid rgba(224,192,151,0.2);border-radius:25px;color:var(--text-cream);font-family:var(--font-body);font-size:0.8rem;outline:none;transition:var(--transition)}
.search-box input:focus{border-color:var(--text-gold);width:220px;background:rgba(0,0,0,0.5)}
.search-box input::placeholder{color:rgba(244,241,234,0.5)}
.search-box i{position:absolute;left:14px;color:rgba(244,241,234,0.5);font-size:0.85rem}
.search-suggestions{position:absolute;top:100%;left:0;right:0;margin-top:8px;background:rgba(42,32,26,0.98);border:1px solid var(--glass-border);border-radius:12px;overflow:hidden;z-index:100;display:none;max-height:300px;overflow-y:auto}
.search-suggestions.active{display:block}
.suggestion-item{display:flex;align-items:center;gap:12px;padding:10px 15px;cursor:pointer;transition:var(--transition);border-bottom:1px solid rgba(255,255,255,0.05)}
.suggestion-item:hover{background:rgba(255,255,255,0.05)}
.suggestion-item img{width:40px;height:40px;border-radius:6px;object-fit:cover}
.suggestion-item .info{flex:1}
.suggestion-item .name{font-size:0.85rem;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.suggestion-item .price{font-size:0.75rem;color:var(--text-gold)}
.nav-icon{position:relative;background:rgba(255,255,255,0.05);width:42px;height:42px;display:flex;align-items:center;justify-content:center;border-radius:10px;cursor:pointer;transition:var(--transition);border:1px solid rgba(255,255,255,0.1);flex-shrink:0}
.nav-icon:hover{background:rgba(255,255,255,0.1);transform:translateY(-2px)}
.nav-icon i{font-size:1.1rem;color:var(--text-gold)}
.nav-icon .badge{position:absolute;top:-6px;right:-6px;background:#ff4757;color:white;font-size:0.65rem;font-weight:800;width:18px;height:18px;display:flex;align-items:center;justify-content:center;border-radius:50%;border:2px solid var(--bg-dark)}
.hero{position:relative;text-align:center;padding:160px 20px 100px;background:radial-gradient(circle at center,rgba(108,76,55,0.45) 0%,var(--bg-dark) 70%);overflow:hidden;width:100%;max-width:100vw}
.hero::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background-image:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23e0c097' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");z-index:-1}
.hero-title{font-family:var(--font-head);font-size:clamp(2.2rem,8vw,3.5rem);color:var(--text-gold);margin:0 0 15px;line-height:1.1;text-transform:uppercase;letter-spacing:3px;text-shadow:0 10px 30px rgba(0,0,0,0.5);opacity:0;animation:fadeInUp 1s forwards 0.2s}
.hero-subtitle{font-size:clamp(0.75rem,2vw,1rem);letter-spacing:4px;text-transform:uppercase;color:var(--text-cream);opacity:0;font-weight:300;margin-bottom:35px;animation:fadeInUp 1s forwards 0.5s}
.btn-hero{background:transparent;border:1.5px solid var(--text-gold);color:var(--text-gold);padding:16px 40px;font-family:var(--font-body);font-size:0.85rem;font-weight:600;text-transform:uppercase;letter-spacing:2px;cursor:pointer;transition:var(--transition);opacity:0;animation:fadeInUp 1s forwards 0.8s;border-radius:4px}
.btn-hero:hover{background:var(--text-gold);color:var(--bg-dark);transform:translateY(-3px);box-shadow:0 15px 35px rgba(216,163,93,0.2)}
@keyframes fadeInUp{from{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}
.brand-identity{padding:60px 20px;text-align:center;max-width:800px;margin:0 auto}
.brand-text{font-size:clamp(0.95rem,2vw,1.1rem);line-height:1.9;color:var(--text-cream);opacity:0.9;font-weight:300}
.brand-text strong{color:var(--text-gold);font-weight:600}
.container{max-width:1300px;margin:0 auto;padding:0 20px;width:100%}
.filter-bar{display:flex;align-items:center;justify-content:space-between;gap:15px;padding:20px;margin-bottom:20px;flex-wrap:wrap;background:rgba(255,255,255,0.02);border-radius:16px;border:1px solid var(--glass-border)}
.filter-group{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.filter-btn{padding:10px 18px;background:rgba(255,255,255,0.05);border:1px solid var(--glass-border);border-radius:25px;color:var(--text-cream);font-family:var(--font-body);font-size:0.8rem;cursor:pointer;transition:var(--transition)}
.filter-btn:hover,.filter-btn.active{background:var(--text-gold);color:var(--bg-dark);border-color:var(--text-gold)}
.sort-select{padding:10px 15px;background:rgba(255,255,255,0.05);border:1px solid var(--glass-border);border-radius:8px;color:var(--text-cream);font-family:var(--font-body);font-size:0.8rem;cursor:pointer;outline:none}
.sort-select option{background:var(--bg-dark);color:var(--text-cream)}
.collection-header{margin:60px 0 30px;text-align:center;position:relative}
.collection-header::after{content:'';display:block;width:50px;height:2px;background:linear-gradient(90deg,transparent,var(--text-gold),transparent);margin:15px auto 0}
.category-title{font-family:var(--font-head);font-size:clamp(1.6rem,4vw,2.2rem);color:var(--text-gold);margin:0;letter-spacing:2px;font-weight:400}
.category-subtitle{font-family:var(--font-body);font-size:0.8rem;text-transform:uppercase;letter-spacing:3px;opacity:0.6;margin-top:6px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;margin-bottom:60px;width:100%}
.product-card{background:rgba(255,255,255,0.03);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,0.08);border-radius:16px;overflow:hidden;cursor:pointer;transition:var(--transition);position:relative;padding:12px}
.product-card:hover{transform:translateY(-8px);border-color:var(--text-gold);background:rgba(255,255,255,0.06);box-shadow:0 20px 40px rgba(0,0,0,0.4)}
.product-image-container{width:100%;aspect-ratio:1/1;overflow:hidden;position:relative;background:#33251f;border-radius:12px;margin-bottom:12px}
.product-image-container img{width:100%;height:100%;object-fit:cover;transition:transform 0.6s cubic-bezier(0.25,1,0.5,1)}
.product-card:hover .product-image-container img{transform:scale(1.08)}
.badge-container{position:absolute;top:10px;left:10px;display:flex;flex-direction:column;gap:5px;z-index:2}
.discount-badge{background:#ff4757;color:white;padding:4px 10px;font-size:0.65rem;font-weight:800;border-radius:6px}
.new-badge{background:var(--success);color:white;padding:4px 10px;font-size:0.65rem;font-weight:800;border-radius:6px}
.bestseller-badge{background:var(--text-gold);color:var(--bg-dark);padding:4px 10px;font-size:0.65rem;font-weight:800;border-radius:6px}
.stock-badge{position:absolute;top:10px;right:10px;background:rgba(178,58,58,0.95);color:white;padding:5px 10px;font-size:0.65rem;font-weight:800;border-radius:6px;z-index:2}
.wishlist-btn{position:absolute;top:10px;right:10px;width:36px;height:36px;background:rgba(0,0,0,0.5);border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition);z-index:3}
.wishlist-btn:hover{background:rgba(0,0,0,0.7);transform:scale(1.1)}
.wishlist-btn i{color:#fff;font-size:0.9rem;transition:var(--transition)}
.wishlist-btn.active i{color:#ff4757}
.quick-actions{position:absolute;bottom:15px;right:15px;display:flex;gap:8px;opacity:0;transform:translateY(10px);transition:var(--transition)}
.product-card:hover .quick-actions{opacity:1;transform:translateY(0)}
.quick-btn{width:38px;height:38px;background:var(--text-gold);border:none;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition)}
.quick-btn:hover{background:#fff;transform:scale(1.1)}
.quick-btn i{color:var(--bg-dark);font-size:0.9rem}
.product-info{padding:5px 4px}
.product-info h3{font-family:var(--font-body);font-size:0.85rem;color:#fff;margin:0 0 6px 0;font-weight:500;letter-spacing:0.5px;text-transform:uppercase;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.rating{display:flex;align-items:center;gap:5px;margin-bottom:6px}
.rating i{color:var(--text-gold);font-size:0.7rem}
.rating span{font-size:0.7rem;color:rgba(255,255,255,0.5)}
.price-row{display:flex;align-items:center;gap:8px}
.product-info .price{font-size:1rem;color:var(--text-gold);font-weight:700}
.product-info .original-price{font-size:0.8rem;color:rgba(255,255,255,0.35);text-decoration:line-through}
.recently-viewed{padding:50px 20px;background:linear-gradient(to bottom,transparent,rgba(0,0,0,0.2),transparent);margin:40px 0}
.recently-viewed h3{font-family:var(--font-head);color:var(--text-gold);text-align:center;margin-bottom:30px;font-size:1.4rem;letter-spacing:1px}
.recent-grid{display:flex;gap:15px;overflow-x:auto;padding-bottom:10px;scrollbar-width:thin}
.recent-grid::-webkit-scrollbar{height:4px}
.recent-grid::-webkit-scrollbar-thumb{background:var(--text-gold);border-radius:2px}
.recent-item{flex-shrink:0;width:140px;cursor:pointer;transition:var(--transition)}
.recent-item:hover{transform:translateY(-5px)}
.recent-item img{width:100%;aspect-ratio:1/1;border-radius:12px;object-fit:cover;margin-bottom:8px}
.recent-item .name{font-size:0.75rem;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.recent-item .price{font-size:0.85rem;color:var(--text-gold);font-weight:600}
.newsletter-section{background:linear-gradient(to bottom,var(--bg-dark),#110a09);padding:80px 20px;text-align:center;border-top:1px solid rgba(224,192,151,0.05)}
.newsletter-content h3{font-family:var(--font-head);font-size:clamp(1.6rem,4vw,2.2rem);color:var(--text-gold);margin-bottom:12px}
.newsletter-content p{color:rgba(244,241,234,0.6);margin-bottom:30px;font-size:0.95rem}
.newsletter-form{display:flex;justify-content:center;gap:0;max-width:450px;margin:0 auto;flex-wrap:wrap}
.newsletter-form input{padding:16px 22px;width:100%;max-width:300px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.1);border-right:none;color:var(--text-cream);font-family:var(--font-body);font-size:0.95rem;border-radius:8px 0 0 8px;transition:border-color 0.3s}
.newsletter-form input:focus{outline:none;border-color:var(--text-gold)}
.newsletter-form button{padding:16px 28px;background:var(--text-gold);border:none;color:var(--bg-dark);font-weight:700;text-transform:uppercase;cursor:pointer;border-radius:0 8px 8px 0;transition:var(--transition);font-size:0.8rem}
.newsletter-form button:hover{background:#fff}
footer{background:#110a09;padding:60px 20px 25px;border-top:1px solid rgba(224,192,151,0.1)}
.footer-content{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:40px;max-width:1100px;margin:0 auto}
.footer-logo{height:55px;margin-bottom:15px;opacity:0.9}
.footer-col h4{font-family:var(--font-head);color:var(--text-gold);margin-bottom:20px;font-size:1rem}
.footer-col a{display:block;color:rgba(244,241,234,0.6);text-decoration:none;margin-bottom:12px;font-size:0.85rem;transition:var(--transition)}
.footer-col a:hover{color:var(--text-gold);transform:translateX(3px)}
.social-links{display:flex;gap:12px}
.social-links a{width:38px;height:38px;background:rgba(255,255,255,0.05);border:1px solid var(--glass-border);border-radius:50%;display:flex;align-items:center;justify-content:center;transition:var(--transition)}
.social-links a:hover{background:var(--text-gold);border-color:var(--text-gold);transform:translateY(-3px)}
.social-links a i{color:var(--text-cream);font-size:0.9rem}
.social-links a:hover i{color:var(--bg-dark)}
.footer-bottom{text-align:center;margin-top:50px;padding-top:25px;border-top:1px solid rgba(255,255,255,0.03);font-size:0.75rem;color:rgba(255,255,255,0.3)}
.payment-methods{display:flex;justify-content:center;gap:15px;margin-top:20px;flex-wrap:wrap}
.payment-methods i{font-size:1.8rem;color:rgba(255,255,255,0.3);transition:var(--transition)}
.payment-methods i:hover{color:var(--text-gold)}
.menu-drawer,.cart-drawer,.wishlist-drawer{position:fixed;top:0;height:100vh;height:100dvh;background:rgba(42,32,26,0.98);backdrop-filter:blur(25px);-webkit-backdrop-filter:blur(25px);z-index:1002;transition:transform 0.4s cubic-bezier(0.25,1,0.5,1);box-shadow:0 0 50px rgba(0,0,0,0.5);display:flex;flex-direction:column}
.menu-drawer{left:0;width:320px;max-width:85vw;transform:translateX(-100%);border-right:1px solid var(--glass-border)}
.cart-drawer,.wishlist-drawer{right:0;width:400px;max-width:92vw;transform:translateX(100%);border-left:1px solid var(--glass-border)}
.menu-drawer.open,.cart-drawer.open,.wishlist-drawer.open{transform:translateX(0)}
.drawer-header{padding:25px 20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,0.05)}
.drawer-title{font-family:var(--font-head);font-size:1.3rem;color:var(--text-gold)}
.drawer-title img{height:24px}
.close-drawer{background:none;border:none;color:var(--text-cream);font-size:1.8rem;cursor:pointer;transition:color 0.3s;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:50%}
.close-drawer:hover{color:var(--text-gold);background:rgba(255,255,255,0.05)}
.menu-links{list-style:none;padding:25px 20px;margin:0}
.menu-links li{margin-bottom:5px;opacity:0;transform:translateX(-20px);transition:all 0.4s ease}
.menu-drawer.open .menu-links li{opacity:1;transform:translateX(0)}
.menu-drawer.open .menu-links li:nth-child(1){transition-delay:0.1s}
.menu-drawer.open .menu-links li:nth-child(2){transition-delay:0.15s}
.menu-drawer.open .menu-links li:nth-child(3){transition-delay:0.2s}
.menu-drawer.open .menu-links li:nth-child(4){transition-delay:0.25s}
.menu-drawer.open .menu-links li:nth-child(5){transition-delay:0.3s}
.menu-drawer.open .menu-links li:nth-child(6){transition-delay:0.35s}
.menu-links a{color:var(--text-cream);text-decoration:none;font-size:1rem;text-transform:uppercase;letter-spacing:1.5px;transition:var(--transition);display:block;padding:12px 0;border-bottom:1px solid rgba(255,255,255,0.05)}
.menu-links a:hover{color:var(--text-gold);padding-left:10px}
.drawer-items{flex:1;overflow-y:auto;padding:15px;-webkit-overflow-scrolling:touch}
.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:50px 20px;text-align:center}
.empty-state img{height:70px;margin-bottom:20px;opacity:0.7}
.empty-state p{color:rgba(255,255,255,0.5);margin-bottom:25px;font-size:0.95rem}
.drawer-item{display:flex;gap:12px;padding:15px;background:rgba(255,255,255,0.05);border-radius:14px;margin-bottom:12px;border:1px solid rgba(255,255,255,0.08);transition:var(--transition)}
.drawer-item:hover{background:rgba(255,255,255,0.08);border-color:rgba(255,255,255,0.15)}
.drawer-item img{width:70px;height:70px;border-radius:10px;object-fit:cover;border:1px solid rgba(255,255,255,0.1)}
.drawer-item-info{flex:1;display:flex;flex-direction:column;justify-content:center;min-width:0}
.drawer-item-name{font-size:0.85rem;color:#fff;margin-bottom:4px;font-weight:600;text-transform:uppercase;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.drawer-item-meta{font-size:0.75rem;color:rgba(255,255,255,0.5);margin-bottom:6px}
.drawer-item-price{font-size:0.95rem;color:var(--text-gold);font-weight:700}
.drawer-item-actions{display:flex;flex-direction:column;align-items:flex-end;justify-content:space-between}
.remove-btn{color:#ff4757;cursor:pointer;font-size:0.85rem;width:28px;height:28px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:var(--transition)}
.remove-btn:hover{background:rgba(255,71,87,0.1)}
.qty-controls{display:flex;align-items:center;gap:10px}
.qty-btn{background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.1);color:#fff;width:26px;height:26px;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:0.75rem;transition:var(--transition)}
.qty-btn:hover{background:rgba(255,255,255,0.2)}
.drawer-footer{padding:20px;background:rgba(10,14,20,0.95);backdrop-filter:blur(20px);border-top:1px solid rgba(255,255,255,0.1)}
.drawer-total{display:flex;justify-content:space-between;color:#fff;font-size:1rem;margin-bottom:15px;font-weight:500}
.drawer-total span:last-child{color:var(--text-gold);font-weight:700;font-size:1.3rem}
.drawer-input{width:100%;padding:12px 14px;background:rgba(0,0,0,0.3);border:1px solid rgba(224,192,151,0.2);border-radius:10px;color:var(--text-cream);font-family:var(--font-body);font-size:0.9rem;outline:none;margin-bottom:12px;box-sizing:border-box}
.drawer-input::placeholder{color:rgba(244,241,234,0.5)}
.btn-primary{width:100%;padding:16px;background:var(--text-gold);color:#000;border:none;border-radius:12px;font-weight:700;text-transform:uppercase;letter-spacing:1px;cursor:pointer;transition:var(--transition);display:flex;align-items:center;justify-content:center;gap:8px;font-size:0.85rem}
.btn-primary:hover{background:#fff;transform:translateY(-2px);box-shadow:0 10px 20px rgba(0,0,0,0.3)}
.btn-secondary{width:100%;padding:14px;background:transparent;color:var(--text-gold);border:1px solid var(--text-gold);border-radius:12px;font-weight:600;text-transform:uppercase;cursor:pointer;transition:var(--transition);margin-top:10px;font-size:0.8rem}
.btn-secondary:hover{background:var(--text-gold);color:var(--bg-dark)}
.overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);backdrop-filter:blur(4px);z-index:1001;opacity:0;pointer-events:none;transition:opacity 0.4s}
.overlay.active{opacity:1;pointer-events:all}
.toast{position:fixed;bottom:100px;left:50%;transform:translateX(-50%) translateY(100px);background:var(--text-gold);color:var(--bg-dark);padding:14px 28px;border-radius:10px;font-weight:600;font-size:0.9rem;z-index:3000;opacity:0;transition:all 0.4s cubic-bezier(0.25,1,0.5,1);box-shadow:0 10px 30px rgba(0,0,0,0.4);display:flex;align-items:center;gap:10px}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
.toast i{font-size:1.1rem}
.modal{display:none;position:fixed;z-index:2000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,0.85);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}
.modal-content{background:var(--bg-card);backdrop-filter:blur(25px);-webkit-backdrop-filter:blur(25px);margin:20px auto;width:95%;max-width:1000px;max-height:90vh;display:flex;border:1px solid var(--glass-border);border-radius:20px;box-shadow:0 40px 100px rgba(0,0,0,0.6);position:relative;animation:modalReveal 0.5s cubic-bezier(0.165,0.84,0.44,1);overflow:hidden}
@keyframes modalReveal{from{opacity:0;transform:translateY(30px) scale(0.95)}to{opacity:1;transform:translateY(0) scale(1)}}
.close-modal{position:absolute;top:15px;right:20px;color:var(--text-gold);font-size:1.8rem;cursor:pointer;z-index:100;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:rgba(0,0,0,0.4);transition:var(--transition);border:none}
.close-modal:hover{background:var(--text-gold);color:var(--bg-dark)}
.modal-body{display:flex;width:100%;overflow:hidden}
.modal-left{flex:1.1;background:rgba(0,0,0,0.2);display:flex;flex-direction:column;padding:15px;overflow-y:auto}
.modal-img-container{position:relative;width:100%;height:380px;margin-bottom:15px;border-radius:14px;overflow:hidden;background:#000}
.modal-img{width:100%;height:100%;object-fit:cover;transition:opacity 0.5s ease}
.modal-thumbnails{display:flex;gap:10px;overflow-x:auto;padding:8px 0;scrollbar-width:none}
.modal-thumbnails::-webkit-scrollbar{display:none}
.thumb-img{width:60px;height:60px;border-radius:10px;object-fit:cover;border:2px solid transparent;cursor:pointer;opacity:0.5;transition:var(--transition);flex-shrink:0}
.thumb-img.active{opacity:1;border-color:var(--text-gold);transform:scale(1.05)}
.modal-info{flex:1;padding:30px 25px;display:flex;flex-direction:column;background:rgba(255,255,255,0.02);overflow-y:auto}
.modal-brand{margin-bottom:5px;opacity:0.6;text-transform:uppercase;font-size:0.75rem;letter-spacing:2px}
.modal-info h2{font-family:var(--font-head);font-size:1.6rem;color:var(--text-gold);margin-bottom:8px;letter-spacing:1px}
.modal-rating{display:flex;align-items:center;gap:10px;margin-bottom:15px}
.modal-rating i{color:var(--text-gold);font-size:0.85rem}
.modal-rating span{font-size:0.8rem;color:rgba(255,255,255,0.6)}
.modal-rating a{font-size:0.8rem;color:var(--text-gold);text-decoration:none}
.modal-price{font-size:1.5rem;font-weight:700;color:#fff;margin-bottom:20px}
.modal-description{font-size:0.9rem;line-height:1.7;color:rgba(255,255,255,0.7);margin-bottom:20px;border-bottom:1px solid var(--glass-border);padding-bottom:20px}
.modal-opt-group{margin-bottom:15px}
.modal-opt-label{display:block;font-size:0.7rem;text-transform:uppercase;letter-spacing:1.5px;color:var(--text-gold);margin-bottom:8px;opacity:0.8}
.size-guide-link{font-size:0.75rem;color:var(--text-gold);text-decoration:underline;cursor:pointer;margin-left:10px}
.modal-select{width:100%;padding:12px 14px;background:rgba(255,255,255,0.05);border:1px solid var(--glass-border);color:var(--text-cream);font-family:var(--font-body);font-size:0.9rem;border-radius:10px;cursor:pointer;transition:var(--transition);outline:none}
.modal-select:focus{border-color:var(--text-gold);background:rgba(255,255,255,0.1)}
.modal-actions{display:flex;gap:10px;margin-top:auto}
.btn-add-cart{flex:1;padding:16px;background:var(--text-gold);color:#000;border:none;border-radius:12px;font-size:0.9rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;cursor:pointer;transition:var(--transition)}
.btn-add-cart:hover{background:#fff;transform:translateY(-2px);box-shadow:0 12px 30px rgba(0,0,0,0.4)}
.btn-wishlist{width:55px;height:55px;background:rgba(255,255,255,0.05);border:1px solid var(--glass-border);border-radius:12px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition)}
.btn-wishlist:hover{background:rgba(255,255,255,0.1)}
.btn-wishlist i{color:#fff;font-size:1.1rem}
.btn-wishlist.active i{color:#ff4757}
.share-section{margin-top:20px;padding-top:20px;border-top:1px solid var(--glass-border)}
.share-section span{font-size:0.75rem;color:rgba(255,255,255,0.5);text-transform:uppercase;letter-spacing:1px;margin-bottom:10px;display:block}
.share-buttons{display:flex;gap:10px}
.share-btn{width:38px;height:38px;background:rgba(255,255,255,0.05);border:1px solid var(--glass-border);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition)}
.share-btn:hover{background:var(--text-gold);border-color:var(--text-gold)}
.share-btn i{color:var(--text-cream);font-size:0.85rem}
.share-btn:hover i{color:var(--bg-dark)}
.related-section{margin-top:25px;padding-top:20px;border-top:1px solid var(--glass-border)}
.related-section h4{font-family:var(--font-head);color:var(--text-gold);font-size:1rem;margin-bottom:15px}
.related-grid{display:flex;gap:12px;overflow-x:auto;padding-bottom:5px}
.related-item{flex-shrink:0;width:100px;cursor:pointer;transition:var(--transition)}
.related-item:hover{transform:translateY(-3px)}
.related-item img{width:100%;aspect-ratio:1/1;border-radius:10px;object-fit:cover;margin-bottom:6px}
.related-item .name{font-size:0.7rem;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.related-item .price{font-size:0.8rem;color:var(--text-gold);font-weight:600}
.reviews-section{margin-top:25px;padding-top:20px;border-top:1px solid var(--glass-border)}
.reviews-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}
.reviews-header h4{font-family:var(--font-head);color:var(--text-gold);font-size:1rem}
.write-review-btn{padding:8px 16px;background:transparent;border:1px solid var(--text-gold);color:var(--text-gold);border-radius:8px;font-size:0.75rem;cursor:pointer;transition:var(--transition)}
.write-review-btn:hover{background:var(--text-gold);color:var(--bg-dark)}
.review-item{padding:15px;background:rgba(255,255,255,0.03);border-radius:12px;margin-bottom:10px}
.review-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.review-author{font-weight:600;color:#fff;font-size:0.9rem}
.review-date{font-size:0.75rem;color:rgba(255,255,255,0.4)}
.review-rating{color:var(--text-gold);font-size:0.75rem;margin-bottom:8px}
.review-text{font-size:0.85rem;color:rgba(255,255,255,0.7);line-height:1.6}
.size-guide-content{padding:25px;max-width:750px;margin:0 auto}
.size-guide-content h2{font-family:var(--font-head);color:var(--text-gold);text-align:center;margin-bottom:25px;font-size:1.5rem}
.size-tabs{display:flex;gap:10px;margin-bottom:20px;justify-content:center;flex-wrap:wrap}
.size-tab{padding:10px 20px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);color:var(--text-cream);border-radius:8px;cursor:pointer;transition:var(--transition);font-size:0.85rem}
.size-tab.active,.size-tab:hover{background:var(--text-gold);color:var(--bg-dark);border-color:var(--text-gold)}
.size-table{width:100%;border-collapse:collapse;margin-bottom:20px;font-size:0.85rem}
.size-table th,.size-table td{padding:12px;text-align:center;border:1px solid rgba(255,255,255,0.1)}
.size-table th{background:rgba(216,163,93,0.15);color:var(--text-gold);font-weight:600;text-transform:uppercase;font-size:0.75rem;letter-spacing:1px}
.size-table td{color:var(--text-cream)}
.size-table tr:nth-child(even){background:rgba(255,255,255,0.03)}
.size-guide-note{background:rgba(216,163,93,0.08);border:1px solid rgba(216,163,93,0.2);border-radius:12px;padding:18px}
.size-guide-note h4{color:var(--text-gold);margin:0 0 10px 0;font-size:0.95rem}
.size-guide-note p{color:rgba(255,255,255,0.7);margin:0;font-size:0.85rem;line-height:1.7}
#track-modal .modal-content{max-width:500px}
#track-modal .modal-body{flex-direction:column;padding:30px}
#track-modal h3{margin-bottom:10px;color:var(--text-gold);font-family:var(--font-head);font-size:1.4rem}
#track-modal>.modal-body>p{opacity:0.7;font-size:0.9rem;margin-bottom:20px;color:var(--text-cream)}
.track-inputs{display:grid;grid-template-columns:1fr;gap:12px;margin-bottom:15px}
.track-inputs input{padding:14px 16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:10px;color:var(--text-cream);font-family:var(--font-body);font-size:0.95rem;outline:none}
.track-inputs input:focus{border-color:var(--text-gold)}
.track-inputs input::placeholder{color:rgba(255,255,255,0.4)}
#shipping-modal .modal-content{max-width:600px}
#shipping-modal .modal-body{flex-direction:column;padding:30px}
#shipping-modal h2{font-family:var(--font-head);color:var(--text-gold);margin-bottom:25px;text-align:center}
.shipping-section{margin-bottom:25px}
.shipping-section h4{color:var(--text-gold);margin-bottom:12px;display:flex;align-items:center;gap:10px}
.shipping-section p{color:rgba(255,255,255,0.7);line-height:1.8;font-size:0.9rem}
.review-modal-content{max-width:500px!important}
.review-form{padding:25px}
.review-form h3{font-family:var(--font-head);color:var(--text-gold);margin-bottom:20px;text-align:center}
.star-rating{display:flex;justify-content:center;gap:8px;margin-bottom:20px}
.star-rating i{font-size:1.5rem;color:rgba(255,255,255,0.2);cursor:pointer;transition:var(--transition)}
.star-rating i:hover,.star-rating i.active{color:var(--text-gold)}
.review-form textarea{width:100%;padding:14px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:12px;color:var(--text-cream);font-family:var(--font-body);font-size:0.9rem;resize:vertical;min-height:100px;margin-bottom:15px;outline:none}
.review-form textarea:focus{border-color:var(--text-gold)}
.newsletter-popup{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);backdrop-filter:blur(8px);z-index:4000;display:none;align-items:center;justify-content:center;padding:20px}
.newsletter-popup.active{display:flex}
.popup-content{background:var(--bg-card);backdrop-filter:blur(25px);border:1px solid var(--glass-border);border-radius:24px;padding:40px;max-width:450px;width:100%;text-align:center;position:relative;animation:popupReveal 0.5s ease}
@keyframes popupReveal{from{opacity:0;transform:scale(0.9)}to{opacity:1;transform:scale(1)}}
.close-popup{position:absolute;top:15px;right:15px;background:none;border:none;color:rgba(255,255,255,0.5);font-size:1.5rem;cursor:pointer;transition:var(--transition)}
.close-popup:hover{color:var(--text-gold)}
.popup-content h3{font-family:var(--font-head);color:var(--text-gold);font-size:1.6rem;margin-bottom:10px}
.popup-content p{color:rgba(255,255,255,0.7);margin-bottom:25px;font-size:0.95rem}
.popup-benefits{display:flex;flex-direction:column;gap:10px;margin-bottom:25px;text-align:left}
.popup-benefits span{display:flex;align-items:center;gap:10px;color:rgba(255,255,255,0.8);font-size:0.9rem}
.popup-benefits i{color:var(--text-gold)}
.popup-form{display:flex;flex-direction:column;gap:12px}
.popup-form input{padding:14px 18px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:10px;color:var(--text-cream);font-family:var(--font-body);font-size:0.95rem;outline:none}
.popup-form input:focus{border-color:var(--text-gold)}
.popup-form button{padding:14px;background:var(--text-gold);border:none;border-radius:10px;color:var(--bg-dark);font-weight:700;text-transform:uppercase;cursor:pointer;transition:var(--transition)}
.popup-form button:hover{background:#fff}
.no-thanks{margin-top:15px;background:none;border:none;color:rgba(255,255,255,0.5);font-size:0.8rem;cursor:pointer;text-decoration:underline}
.no-thanks:hover{color:var(--text-gold)}
.cookie-banner{position:fixed;bottom:0;left:0;right:0;background:rgba(17,10,9,0.98);backdrop-filter:blur(20px);border-top:1px solid var(--glass-border);padding:20px;z-index:3500;display:none;align-items:center;justify-content:center;gap:20px;flex-wrap:wrap}
.cookie-banner.active{display:flex}
.cookie-banner p{color:rgba(255,255,255,0.8);font-size:0.9rem;max-width:600px}
.cookie-banner a{color:var(--text-gold);text-decoration:underline}
.cookie-btn{padding:10px 24px;background:var(--text-gold);border:none;border-radius:8px;color:var(--bg-dark);font-weight:600;cursor:pointer;transition:var(--transition)}
.cookie-btn:hover{background:#fff}
.mobile-bottom-nav{display:none;position:fixed;bottom:0;left:0;right:0;background:rgba(43,31,26,0.98);backdrop-filter:blur(20px);border-top:1px solid var(--glass-border);padding:10px 0;z-index:1000}
.mobile-bottom-nav .nav-item{flex:1;display:flex;flex-direction:column;align-items:center;gap:4px;color:rgba(255,255,255,0.5);text-decoration:none;font-size:0.65rem;transition:var(--transition);cursor:pointer;position:relative}
.mobile-bottom-nav .nav-item.active,.mobile-bottom-nav .nav-item:hover{color:var(--text-gold)}
.mobile-bottom-nav .nav-item i{font-size:1.2rem}
.mobile-bottom-nav .nav-item .badge{position:absolute;top:0;background:#ff4757;color:white;font-size:0.6rem;width:16px;height:16px;border-radius:50%;display:flex;align-items:center;justify-content:center}
.sticky-add-cart{display:none;position:fixed;bottom:0;left:0;right:0;background:rgba(43,31,26,0.98);backdrop-filter:blur(20px);border-top:1px solid var(--glass-border);padding:12px 20px;z-index:999;gap:12px}
.sticky-add-cart.active{display:flex}
.sticky-add-cart .price{color:var(--text-gold);font-weight:700;font-size:1.1rem;display:flex;align-items:center}
.sticky-add-cart .btn-primary{flex:1;margin:0}
#prestige-loader{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg-dark);z-index:9999;display:flex;flex-direction:column;justify-content:center;align-items:center;transition:opacity 0.8s ease}
#prestige-loader img{height:80px;margin-bottom:20px;filter:drop-shadow(0 0 10px rgba(224,192,151,0.2))}
.loader-line{width:40px;height:2px;background:var(--text-gold);animation:pulse 1.5s infinite}
@keyframes pulse{0%{width:0;opacity:0}50%{width:40px;opacity:1}100%{width:0;opacity:0}}
body.modal-open{overflow:hidden}
@media(max-width:900px){.promo-banner{font-size:0.75rem;padding:8px 15px}nav{top:32px;padding:10px 15px}nav.scrolled{top:0}.nav-logo-img{height:38px}.search-box input{width:120px}.search-box input:focus{width:150px}.hero{padding:130px 15px 60px}.grid{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:12px}.filter-bar{padding:15px}.filter-btn{padding:8px 14px;font-size:0.75rem}.modal-content{margin:0;width:100%;height:100vh;height:100dvh;max-width:none;flex-direction:column;overflow-y:auto;border-radius:0}.modal-body{flex-direction:column}.modal-left{height:40vh;padding:10px}.modal-img-container{height:100%}.modal-info{padding:20px}.modal-info h2{font-size:1.3rem}.modal-price{font-size:1.2rem}.modal-actions{flex-direction:column}.btn-wishlist{width:100%;height:45px}.related-section{display:none}.reviews-section{display:none}.footer-content{grid-template-columns:1fr 1fr;gap:30px}.brand-col{grid-column:1/-1;text-align:center}.sticky-add-cart{display:flex}}
@media(max-width:600px){
.promo-banner{display:none !important}
nav{top:0 !important;padding:10px 15px !important;position:fixed !important;height:65px !important;box-sizing:border-box !important}
.hero{margin-top:65px !important;padding:40px 15px !important;height:auto !important;min-height:auto !important;position:relative !important;z-index:1 !important;background:radial-gradient(circle at center,rgba(108,76,55,0.45) 0%,var(--bg-dark) 70%) !important}
.hero-title{opacity:1 !important;animation:none !important;font-size:1.8rem !important;margin:0 0 10px !important;transform:none !important;visibility:visible !important;display:block !important}
.hero-subtitle{opacity:1 !important;animation:none !important;font-size:0.75rem !important;margin-bottom:20px !important;transform:none !important;visibility:visible !important;display:block !important}
.btn-hero{opacity:1 !important;animation:none !important;padding:12px 25px !important;font-size:0.75rem !important;transform:none !important;visibility:visible !important;display:inline-block !important}
.brand-identity{padding:30px 15px !important}
}.search-box{display:none}.hero{padding:100px 12px 50px}.collection-header{margin:40px 0 20px}.category-title{font-size:1.3rem}.grid{grid-template-columns:repeat(2,1fr);gap:10px}.product-card{padding:8px}.product-image-container{border-radius:10px}.product-info h3{font-size:0.7rem}.quick-actions{opacity:1;transform:translateY(0)}.quick-btn{width:32px;height:32px}.menu-drawer,.cart-drawer,.wishlist-drawer{width:100%;max-width:100%}.mobile-bottom-nav{display:flex}.newsletter-popup .popup-content{padding:30px 20px}.cookie-banner{flex-direction:column;text-align:center;padding:15px}.cookie-banner p{font-size:0.8rem}}
@media(max-width:380px){.grid{gap:8px}.product-info .price{font-size:0.9rem}}
@media(max-width:480px){
.hero{margin-top:60px !important;padding:30px 12px !important}
.hero-title{font-size:1.6rem !important}
.hero-subtitle{font-size:0.7rem !important}
}.brand-text{font-size:0.85rem}.filter-group{gap:8px}.filter-btn{padding:8px 12px;font-size:0.7rem}.collection-header{margin:30px 0 15px}.category-title{font-size:1.1rem}.category-subtitle{font-size:0.7rem}.product-info h3{font-size:0.65rem}.product-info .price{font-size:0.85rem}.rating i{font-size:0.6rem}.badge-container .discount-badge,.badge-container .new-badge,.badge-container .bestseller-badge{font-size:0.55rem;padding:3px 6px}.wishlist-btn{width:28px;height:28px}.wishlist-btn i{font-size:0.75rem}.quick-btn{width:28px;height:28px}.quick-btn i{font-size:0.75rem}.drawer-header{padding:15px}.drawer-title{font-size:1.1rem}.drawer-item{padding:12px}.drawer-item img{width:50px;height:50px}.drawer-item-name{font-size:0.8rem}.drawer-item-price{font-size:0.85rem}.drawer-total{font-size:0.9rem}.drawer-total span:last-child{font-size:1.1rem}.btn-primary{padding:12px;font-size:0.8rem}.btn-secondary{padding:10px;font-size:0.75rem}.newsletter-section{padding:50px 15px}.newsletter-content h3{font-size:1.3rem}.newsletter-content p{font-size:0.85rem}.newsletter-form{flex-direction:column;gap:10px}.newsletter-form input{border-radius:8px;border-right:1px solid rgba(255,255,255,0.1)}.newsletter-form button{border-radius:8px}footer{padding:40px 15px 20px}.footer-content{gap:25px}.footer-logo{height:40px}.footer-col h4{font-size:0.9rem;margin-bottom:15px}.footer-col a{font-size:0.8rem;margin-bottom:8px}.social-links a{width:32px;height:32px}.social-links a i{font-size:0.8rem}.payment-methods i{font-size:1.4rem}.footer-bottom{font-size:0.7rem;margin-top:30px}}
    </style>
    <link rel="icon" href="https://files.fm/thumb.php?i=y628qspy4s" type="image/jpeg">
<base target="_blank">
<base target="_blank">
</head>
<body>
    <div class="promo-banner" id="promo-banner"><span>ðŸšš FREE SHIPPING on orders over â‚¦50,000 | Use code: RAREROOT</span><button class="close-promo" onclick="closePromo()"><i class="fas fa-times"></i></button></div>
    <nav id="main-nav">
        <button class="menu-btn" onclick="toggleMenu()"><i class="fas fa-bars"></i></button>
        <a href="#" class="logo" onclick="goToHome();return false;"><img src="https://files.fm/thumb.php?i=4wunrd26s5" alt="RARE ROOT" class="nav-logo-img"></a>
        <div class="nav-actions">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="search-input" placeholder="Search products..." onkeyup="handleSearch(this.value)" autocomplete="off">
                <div class="search-suggestions" id="search-suggestions"></div>
            </div>
            <div class="nav-icon" onclick="toggleWishlist()"><i class="fas fa-heart"></i><span class="badge" id="wishlist-count">0</span></div>
            <div class="nav-icon" onclick="toggleCart()"><i class="fas fa-shopping-bag"></i><span class="badge" id="cart-count">0</span></div>
        </div>
    </nav>
    <header class="hero" id="home">
        <h1 class="hero-title">RARE ROOT</h1>
        <p class="hero-subtitle">Prestige in Every Thread</p>
        <button class="btn-hero" onclick="scrollToProducts()">Explore the Collection</button>
    </header>
    <section class="brand-identity">
        <p class="brand-text"><strong>RARE ROOT</strong> is a premium streetwear collective designed for the disciplined. Rooted in Nigeria and serving the global hustle, we provide the high-performance uniform for those who move in silence.</p>
    </section>
    <div class="container">
        <div class="filter-bar">
            <div class="filter-group">
                <button class="filter-btn active" onclick="filterProducts('all')">All</button>
                <button class="filter-btn" onclick="filterProducts('The Exchange')">The Exchange</button>
                <button class="filter-btn" onclick="filterProducts('Kinetic')">Kinetic</button>
                <button class="filter-btn" onclick="filterProducts('Urban Archive')">Urban Archive</button>
            </div>
            <select class="sort-select" onchange="sortProducts(this.value)">
                <option value="default">Sort By</option>
                <option value="price-low">Price: Low to High</option>
                <option value="price-high">Price: High to Low</option>
                <option value="newest">Newest First</option>
                <option value="bestseller">Bestsellers</option>
            </select>
        </div>
        <div class="collection-header"><h2 class="category-title">THE EXCHANGE</h2><p class="category-subtitle">Calculated Moves. Legacy Built.</p></div>
        <div class="grid" id="exchange-grid"></div>
        <div class="collection-header"><h2 class="category-title">KINETIC</h2><p class="category-subtitle">Form Meets Function. The Street Performance Line.</p></div>
        <div class="grid" id="kinetic-grid"></div>
        <div class="collection-header"><h2 class="category-title">URBAN ARCHIVE</h2><p class="category-subtitle">The Signature Street Silhouettes.</p></div>
        <div class="grid" id="urban-grid"></div>
    </div>
    <section class="recently-viewed" id="recently-viewed" style="display:none;"><h3>Recently Viewed</h3><div class="recent-grid" id="recent-grid"></div></section>
    <div class="newsletter-section">
        <div class="newsletter-content">
            <h3>Join The Inner Circle</h3>
            <p>Exclusive drops, early access, and insider updates.</p>
            <form class="newsletter-form" onsubmit="subscribeNewsletter(event)"><input type="email" placeholder="Enter your email" required><button type="submit">Subscribe</button></form>
        </div>
    </div>
    <footer id="footer">
        <div class="footer-content">
            <div class="footer-col brand-col">
                <img src="https://files.fm/thumb.php?i=y628qspy4s" alt="RARE ROOT" class="footer-logo">
                <p style="color:rgba(244,241,234,0.6);font-size:0.9rem;">Prestige in every thread.</p>
                <div class="social-links">
                    <a href="#" onclick="openSocial('instagram');return false;"><i class="fab fa-instagram"></i></a>
                    <a href="#" onclick="openSocial('twitter');return false;"><i class="fab fa-twitter"></i></a>
                    <a href="#" onclick="openSocial('facebook');return false;"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" onclick="openSocial('tiktok');return false;"><i class="fab fa-tiktok"></i></a>
                </div>
            </div>
            <div class="footer-col"><h4>Shop</h4><a href="#exchange-grid">The Exchange</a><a href="#kinetic-grid">Kinetic</a><a href="#urban-grid">Urban Archive</a><a href="#" onclick="openSizeGuide();return false;">Size Guide</a></div>
            <div class="footer-col"><h4>Support</h4><a href="#" onclick="openShippingModal();return false;">Shipping & Returns</a><a href="#" onclick="openTrackModal();return false;">Track Order</a><a href="#footer">Contact Us</a><a href="#" onclick="showToast('FAQ coming soon');return false;">FAQ</a></div>
            <div class="footer-col"><h4>Company</h4><a href="#" onclick="showToast('About page coming soon');return false;">About Us</a><a href="#" onclick="showToast('Careers page coming soon');return false;">Careers</a><a href="#" onclick="showToast('Press page coming soon');return false;">Press</a></div>
        </div>
        <div class="payment-methods"><i class="fab fa-cc-visa"></i><i class="fab fa-cc-mastercard"></i><i class="fas fa-credit-card"></i><i class="fas fa-mobile-alt"></i></div>
        <div class="footer-bottom"><p>&copy; 2026 RARE ROOT. All rights reserved.</p></div>
    </footer>
    <div class="overlay" id="overlay" onclick="closeAllDrawers()"></div>
    <div class="menu-drawer" id="menu-drawer">
        <div class="drawer-header"><span class="drawer-title">Menu</span><button class="close-drawer" onclick="toggleMenu()">&times;</button></div>
        <ul class="menu-links"><li><a href="#home" onclick="toggleMenu()">Home</a></li><li><a href="#exchange-grid" onclick="toggleMenu()">The Exchange</a></li><li><a href="#kinetic-grid" onclick="toggleMenu()">Kinetic</a></li><li><a href="#urban-grid" onclick="toggleMenu()">Urban Archive</a></li><li><a href="#footer" onclick="toggleMenu()">Contact</a></li><li><a href="#" onclick="openTrackModal();toggleMenu();return false;">Track Order</a></li></ul>
    </div>
    <div class="cart-drawer" id="cart-drawer">
        <div class="drawer-header"><span class="drawer-title"><img src="https://files.fm/thumb.php?i=4wunrd26s5" alt="RARE ROOT"></span><button class="close-drawer" onclick="toggleCart()">&times;</button></div>
        <div class="drawer-items" id="cart-items"></div>
        <div class="drawer-footer"><div class="drawer-total"><span>Total</span><span id="cart-total">â‚¦0</span></div><input type="email" class="drawer-input" id="checkout-email" placeholder="Email for receipt"><button class="btn-primary" onclick="checkoutPaystack()"><i class="fas fa-lock"></i> SECURE CHECKOUT</button><button class="btn-secondary" onclick="toggleCart()">Continue Shopping</button></div>
    </div>
    <div class="wishlist-drawer" id="wishlist-drawer">
        <div class="drawer-header"><span class="drawer-title"><i class="fas fa-heart"></i> Wishlist</span><button class="close-drawer" onclick="toggleWishlist()">&times;</button></div>
        <div class="drawer-items" id="wishlist-items"></div>
        <div class="drawer-footer"><button class="btn-primary" onclick="moveWishlistToCart()"><i class="fas fa-shopping-bag"></i> ADD ALL TO CART</button><button class="btn-secondary" onclick="toggleWishlist()">Continue Shopping</button></div>
    </div>
    <div id="toast" class="toast"><i class="fas fa-check-circle"></i><span>Notification</span></div>
    <div id="prestige-loader"><img src="https://files.fm/thumb.php?i=y628qspy4s" alt="RARE ROOT"><div class="loader-line"></div></div>
    <div id="product-modal" class="modal"><div class="modal-content"><button class="close-modal" onclick="closeModal()">&times;</button><div class="modal-body" id="modal-body"></div></div></div>
    <div id="size-guide-modal" class="modal">
        <div class="modal-content" style="max-width:750px;">
            <button class="close-modal" onclick="closeSizeGuide()">&times;</button>
            <div class="size-guide-content">
                <h2>Size Guide</h2>
                <div class="size-tabs"><button class="size-tab active" onclick="showSizeTab('tops',this)">Tops & T-Shirts</button><button class="size-tab" onclick="showSizeTab('bottoms',this)">Bottoms & Shorts</button><button class="size-tab" onclick="showSizeTab('accessories',this)">Accessories</button></div>
                <div id="size-tops" class="size-tab-content">
                    <table class="size-table"><thead><tr><th>Size</th><th>Chest (cm)</th><th>Chest (in)</th><th>Length (cm)</th><th>Length (in)</th></tr></thead>
                    <tbody><tr><td>XS</td><td>86-91</td><td>34-36</td><td>66</td><td>26</td></tr><tr><td>S</td><td>92-97</td><td>36-38</td><td>69</td><td>27</td></tr><tr><td>M</td><td>98-103</td><td>38-40</td><td>72</td><td>28</td></tr><tr><td>L</td><td>104-109</td><td>41-43</td><td>75</td><td>29.5</td></tr><tr><td>XL</td><td>110-115</td><td>43-45</td><td>78</td><td>31</td></tr><tr><td>XXL</td><td>116-121</td><td>46-48</td><td>81</td><td>32</td></tr></tbody></table>
                </div>
                <div id="size-bottoms" class="size-tab-content" style="display:none;">
                    <table class="size-table"><thead><tr><th>Size</th><th>Waist (cm)</th><th>Waist (in)</th><th>Hip (cm)</th><th>Hip (in)</th></tr></thead>
                    <tbody><tr><td>XS</td><td>71-76</td><td>28-30</td><td>86-91</td><td>34-36</td></tr><tr><td>S</td><td>76-81</td><td>30-32</td><td>91-96</td><td>36-38</td></tr><tr><td>M</td><td>81-86</td><td>32-34</td><td>96-101</td><td>38-40</td></tr><tr><td>L</td><td>86-91</td><td>34-36</td><td>101-106</td><td>40-42</td></tr><tr><td>XL</td><td>91-96</td><td>36-38</td><td>106-111</td><td>42-44</td></tr><tr><td>XXL</td><td>96-101</td><td>38-40</td><td>111-116</td><td>44-46</td></tr></tbody></table>
                </div>
                <div id="size-accessories" class="size-tab-content" style="display:none;">
                    <table class="size-table"><thead><tr><th>Item</th><th>Size</th><th>Measurement</th></tr></thead>
                    <tbody><tr><td>Caps</td><td>One Size</td><td>Adjustable (56-60cm)</td></tr><tr><td>Beanies</td><td>One Size</td><td>Stretch fit</td></tr><tr><td>Bags</td><td>Standard</td><td>40cm x 30cm x 12cm</td></tr><tr><td>Socks</td><td>S/M/L</td><td>EU 38-41 / 42-45 / 46-49</td></tr></tbody></table>
                </div>
                <div class="size-guide-note"><h4><i class="fas fa-ruler"></i> How to Measure</h4><p><strong>Chest:</strong> Measure around the fullest part of your chest, keeping the tape horizontal.<br><strong>Waist:</strong> Measure around your natural waistline, keeping the tape comfortably loose.<br><strong>Hip:</strong> Measure around the fullest part of your hips.<br><br>All measurements are garment dimensions. For a relaxed fit, consider sizing up.</p></div>
            </div>
        </div>
    </div>
    <div id="track-modal" class="modal"><div class="modal-content"><button class="close-modal" onclick="closeTrackModal()">&times;</button><div class="modal-body"><h3>Track Your Order</h3><p>Enter your tracking code or order reference (RR-...).</p><div class="track-inputs"><input type="text" id="track-code" placeholder="Tracking Code"><input type="text" id="track-ref" placeholder="Order Reference (RR-...)"></div><button class="btn-primary" onclick="findOrder()">Find Order</button><div id="track-result" style="margin-top:15px;"></div></div></div></div>
    <div id="shipping-modal" class="modal"><div class="modal-content"><button class="close-modal" onclick="closeShippingModal()">&times;</button><div class="modal-body"><h2>Shipping & Returns</h2><div class="shipping-section"><h4><i class="fas fa-truck"></i> Shipping</h4><p>â€¢ <strong>Standard Delivery:</strong> 3-5 business days (Lagos), 5-7 business days (Nigeria)<br>â€¢ <strong>Express Delivery:</strong> 1-2 business days (Lagos only)<br>â€¢ <strong>International:</strong> 7-14 business days<br>â€¢ Free shipping on orders over â‚¦50,000</p></div><div class="shipping-section"><h4><i class="fas fa-undo"></i> Returns</h4><p>â€¢ Items can be returned within 14 days of delivery<br>â€¢ Items must be unworn, unwashed, with original tags attached<br>â€¢ Sale items are final sale and cannot be returned<br>â€¢ Return shipping costs are the customer's responsibility</p></div><div class="shipping-section"><h4><i class="fas fa-envelope"></i> Need Help?</h4><p>Contact us at <a href="mailto:support@rareroot.com" style="color:var(--text-gold);">support@rareroot.com</a></p></div></div></div></div>
    <div id="review-modal" class="modal"><div class="modal-content review-modal-content"><button class="close-modal" onclick="closeReviewModal()">&times;</button><div class="review-form"><h3>Write a Review</h3><div class="star-rating" id="star-rating"><i class="fas fa-star" onclick="setRating(1)"></i><i class="fas fa-star" onclick="setRating(2)"></i><i class="fas fa-star" onclick="setRating(3)"></i><i class="fas fa-star" onclick="setRating(4)"></i><i class="fas fa-star" onclick="setRating(5)"></i></div><textarea id="review-text" placeholder="Share your experience with this product..."></textarea><button class="btn-primary" onclick="submitReview()">Submit Review</button></div></div></div>
    <div class="newsletter-popup" id="newsletter-popup"><div class="popup-content"><button class="close-popup" onclick="closeNewsletterPopup()">&times;</button><h3>Join The Inner Circle</h3><p>Subscribe and get 10% off your first order!</p><div class="popup-benefits"><span><i class="fas fa-check"></i> Exclusive early access to drops</span><span><i class="fas fa-check"></i> Members-only discounts</span><span><i class="fas fa-check"></i> Free shipping on first order</span></div><form class="popup-form" onsubmit="subscribePopup(event)"><input type="email" placeholder="Enter your email" required><button type="submit">GET 10% OFF</button></form><button class="no-thanks" onclick="closeNewsletterPopup()">No thanks, I prefer paying full price</button></div></div>
    <div class="cookie-banner" id="cookie-banner"><p>We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies. <a href="#">Learn more</a></p><button class="cookie-btn" onclick="acceptCookies()">Accept</button></div>
    <nav class="mobile-bottom-nav" id="mobile-nav"><a class="nav-item active" onclick="goToHome()"><i class="fas fa-home"></i><span>Home</span></a><a class="nav-item" onclick="openSearchMobile()"><i class="fas fa-search"></i><span>Search</span></a><a class="nav-item" onclick="toggleWishlist()"><i class="fas fa-heart"></i><span>Wishlist</span><span class="badge" id="mobile-wishlist-count" style="display:none;">0</span></a><a class="nav-item" onclick="toggleCart()"><i class="fas fa-shopping-bag"></i><span>Cart</span><span class="badge" id="mobile-cart-count" style="display:none;">0</span></a></nav>
    <div class="sticky-add-cart" id="sticky-add-cart"><div class="price" id="sticky-price">â‚¦0</div><button class="btn-primary" onclick="addToCartFromSticky()">Add to Cart</button></div>
    <script>
let products=[],cart=[],wishlist=[],recentlyViewed=[],currentModalProduct=null,currentRating=0,currentFilter='all',currentSort='default',db;
const PAYSTACK_PUBLIC_KEY='pk_test_74a74bdf05a89708936bc958ca3ddadf8ab3b3ef';
const FIREBASE_CONFIG={apiKey:"AIzaSyDUemRdj8Q65vuid8ePqliNdrUmCBQjAiQ",authDomain:"rare-root.firebaseapp.com",projectId:"rare-root",storageBucket:"rare-root.firebasestorage.app",messagingSenderId:"555337627727",appId:"1:555337627727:web:1e642ad1cbb5f2d6b7523a",measurementId:"G-4QG0W6KZMN"};
function initFirebase(){if(!firebase.apps.length){firebase.initializeApp(FIREBASE_CONFIG);if(typeof firebase.analytics==='function')firebase.analytics()}db=firebase.firestore()}
function saveToStorage(key,data){try{localStorage.setItem(key,JSON.stringify(data))}catch(e){}}
function loadFromStorage(key,defaultValue=[]){try{const data=localStorage.getItem(key);return data?JSON.parse(data):defaultValue}catch(e){return defaultValue}}
async function fetchProducts(){try{initFirebase();const snapshot=await db.collection('products').get();products=snapshot.docs.map(doc=>({id:doc.id,...doc.data(),rating:doc.data().rating||(3.5+Math.random()*1.5).toFixed(1),reviewCount:doc.data().reviewCount||Math.floor(Math.random()*50)+5}));initializeShop();hideLoader()}catch(error){console.error('Error loading products:',error);hideLoader();showToast('Error loading products. Please refresh.')}}
function hideLoader(){const loader=document.getElementById('prestige-loader');if(loader){loader.style.opacity='0';setTimeout(()=>loader.style.display='none',800)}}
function initializeShop(){renderCategory("The Exchange","exchange-grid");renderCategory("Kinetic","kinetic-grid");renderCategory("Urban Archive","urban-grid");updateCartUI();updateWishlistUI();renderRecentlyViewed()}
function renderCategory(categoryName,elementId){const container=document.getElementById(elementId);if(!container)return;let items=products.filter(p=>((p.category||'').toLowerCase().trim()===categoryName.toLowerCase().trim())&&!p.hidden);if(currentFilter!=='all'&&currentFilter!==categoryName)items=[];if(items.length===0){container.innerHTML='<p style="grid-column:1/-1;text-align:center;opacity:0.5;padding:40px;">Coming Soon</p>';return}items=sortItems(items);container.innerHTML='';items.forEach(product=>{container.appendChild(createProductCard(product))})}
function createProductCard(product){const card=document.createElement('div');card.className='product-card';card.onclick=(e)=>{if(!e.target.closest('.wishlist-btn')&&!e.target.closest('.quick-actions')){openProductModal(product.id)}};const isSale=product.sale_price&&product.sale_price<product.price;const priceDisplay=isSale?`<span class="original-price">â‚¦${product.price.toLocaleString()}</span> <span class="price">â‚¦${product.sale_price.toLocaleString()}</span>`:`<span class="price">â‚¦${product.price.toLocaleString()}</span>`;const isInWishlist=wishlist.some(item=>item.id===product.id);let badges='';if(isSale)badges+=`<span class="discount-badge">-${Math.round(((product.price-product.sale_price)/product.price)*100)}%</span>`;if(product.isNew)badges+=`<span class="new-badge">NEW</span>`;if(product.isBestseller)badges+=`<span class="bestseller-badge">BESTSELLER</span>`;const stockBadge=(product.stock||'').toLowerCase()==='out of stock'?`<span class="stock-badge">OUT OF STOCK</span>`:'';card.innerHTML=`<div class="product-image-container"><div class="badge-container">${badges}</div>${stockBadge}<button class="wishlist-btn ${isInWishlist?'active':''}" onclick="toggleWishlistItem('${product.id}')"><i class="${isInWishlist?'fas':'far'} fa-heart"></i></button><img src="${product.img}" alt="${product.name}" loading="lazy"><div class="quick-actions"><button class="quick-btn" onclick="openProductModal('${product.id}')" title="Quick View"><i class="fas fa-eye"></i></button><button class="quick-btn" onclick="shareProduct('${product.id}')" title="Share"><i class="fas fa-share-alt"></i></button></div></div><div class="product-info"><h3>${product.name}</h3><div class="rating">${generateStars(product.rating)}<span>(${product.reviewCount})</span></div><div class="price-row">${priceDisplay}</div></div>`;return card}
function generateStars(rating){let stars='';for(let i=1;i<=5;i++){if(i<=Math.floor(rating)){stars+='<i class="fas fa-star"></i>'}else if(i===Math.ceil(rating)&&rating%1!==0){stars+='<i class="fas fa-star-half-alt"></i>'}else{stars+='<i class="far fa-star"></i>'}}return stars}
function sortItems(items){const sorted=[...items];switch(currentSort){case'price-low':return sorted.sort((a,b)=>(a.sale_price||a.price)-(b.sale_price||b.price));case'price-high':return sorted.sort((a,b)=>(b.sale_price||b.price)-(a.sale_price||a.price));case'newest':return sorted.sort((a,b)=>(b.isNew?1:0)-(a.isNew?1:0));case'bestseller':return sorted.sort((a,b)=>(b.isBestseller?1:0)-(a.isBestseller?1:0));default:return sorted}}
function sortProducts(sortType){currentSort=sortType;initializeShop()}
function filterProducts(category){currentFilter=category;document.querySelectorAll('.filter-btn').forEach(btn=>btn.classList.remove('active'));event.target.classList.add('active');initializeShop()}
function openProductModal(id){const product=products.find(p=>p.id===id);if(!product)return;currentModalProduct=product;addToRecentlyViewed(product);const modal=document.getElementById('product-modal');const modalBody=document.getElementById('modal-body');pushModalState('product');const price=product.sale_price||product.price;const priceDisplay=product.sale_price?`<span class="original-price" style="font-size:1rem;color:rgba(255,255,255,0.4);">â‚¦${product.price.toLocaleString()}</span> â‚¦${product.sale_price.toLocaleString()}`:`â‚¦${product.price.toLocaleString()}`;const isOut=(product.stock||'').toLowerCase()==='out of stock';const isInWishlist=wishlist.some(item=>item.id===product.id);const sizeOptions=product.sizes?product.sizes.map(s=>`<option value="${s}">${s}</option>`).join(''):'<option>One Size</option>';let variants=product.variants||[];if(variants.length===0)variants=[{color:'Standard',image:product.img}];const colorOptions=variants.map(v=>`<option value="${v.color}" data-img="${v.image}">${v.color}</option>`).join('');const thumbnailsHtml=variants.length>1?`<div class="modal-thumbnails">${variants.map((v,i)=>`<img src="${v.image}" alt="${v.color}" onclick="updateModalImage('${v.image}','${v.color}',this)" class="thumb-img ${i===0?'active':''}">`).join('')}</div>`:'';const relatedProducts=products.filter(p=>p.category===product.category&&p.id!==product.id).slice(0,4);const relatedHtml=relatedProducts.length>0?`<div class="related-section"><h4>You May Also Like</h4><div class="related-grid">${relatedProducts.map(p=>`<div class="related-item" onclick="openProductModal('${p.id}')"><img src="${p.img}" alt="${p.name}"><div class="name">${p.name}</div><div class="price">â‚¦${(p.sale_price||p.price).toLocaleString()}</div></div>`).join('')}</div></div>`:'';const reviewsHtml=`<div class="reviews-section"><div class="reviews-header"><h4>Customer Reviews (${product.reviewCount})</h4><button class="write-review-btn" onclick="openReviewModal()">Write a Review</button></div><div class="review-item"><div class="review-header"><span class="review-author">John D.</span><span class="review-date">2 weeks ago</span></div><div class="review-rating">${generateStars(5)}</div><p class="review-text">Amazing quality! The fabric feels premium and the fit is perfect. Definitely ordering more.</p></div></div>`;modalBody.innerHTML=`<div class="modal-left"><div class="modal-img-container" id="modal-swipe-container"><img src="${variants[0].image}" alt="${product.name}" class="modal-img" id="modal-main-img"></div>${thumbnailsHtml}</div><div class="modal-info"><div class="modal-brand">Rare Root</div><h2>${product.name}</h2><div class="modal-rating">${generateStars(product.rating)}<span>${product.rating} (${product.reviewCount} reviews)</span><a href="#" onclick="document.querySelector('.reviews-section').scrollIntoView({behavior:'smooth'});return false;">See all</a></div><div class="modal-price">${priceDisplay}</div><div class="modal-description">${product.description||"Premium quality fabric, designed for the disciplined. Built for movement and style."}</div><div class="modal-opt-group"><label class="modal-opt-label">Select Size <span class="size-guide-link" onclick="openSizeGuide()">Size Guide</span></label><select id="modal-size" class="modal-select">${sizeOptions}</select></div><div class="modal-opt-group"><label class="modal-opt-label">Select Variant</label><select id="modal-color" class="modal-select" onchange="onColorChange(this)">${colorOptions}</select></div><div class="modal-actions">${isOut?`<button class="btn-add-cart" disabled style="opacity:0.6;">Out of Stock</button>`:`<button class="btn-add-cart" onclick="addToCartFromModal()">Add to Cart - â‚¦${price.toLocaleString()}</button>`}<button class="btn-wishlist ${isInWishlist?'active':''}" onclick="toggleWishlistItem('${product.id}');updateWishlistBtn(this);"><i class="${isInWishlist?'fas':'far'} fa-heart"></i></button></div><div class="share-section"><span>Share this product</span><div class="share-buttons"><button class="share-btn" onclick="shareProduct('${product.id}','whatsapp')" title="WhatsApp"><i class="fab fa-whatsapp"></i></button><button class="share-btn" onclick="shareProduct('${product.id}','facebook')" title="Facebook"><i class="fab fa-facebook-f"></i></button><button class="share-btn" onclick="shareProduct('${product.id}','twitter')" title="Twitter"><i class="fab fa-twitter"></i></button><button class="share-btn" onclick="copyProductLink('${product.id}')" title="Copy Link"><i class="fas fa-link"></i></button></div></div>${relatedHtml}${reviewsHtml}</div>`;document.getElementById('sticky-price').textContent='â‚¦'+price.toLocaleString();if(!isOut){document.getElementById('sticky-add-cart').classList.add('active')}initSwipe(variants);modal.style.display='block';document.body.classList.add('modal-open')}
function closeModal(){document.getElementById('product-modal').style.display='none';document.body.classList.remove('modal-open');document.getElementById('sticky-add-cart').classList.remove('active');currentModalProduct=null}
function initSwipe(variants){const container=document.getElementById('modal-swipe-container');if(!container||variants.length<=1)return;let startX=0,currentIndex=0;container.addEventListener('touchstart',(e)=>{startX=e.touches[0].clientX},{passive:true});container.addEventListener('touchend',(e)=>{const diff=startX-e.changedTouches[0].clientX;if(Math.abs(diff)>50){currentIndex=diff>0?(currentIndex+1)%variants.length:(currentIndex-1+variants.length)%variants.length;const v=variants[currentIndex];updateModalImage(v.image,v.color,document.querySelectorAll('.thumb-img')[currentIndex])}},{passive:true})}
function updateModalImage(src,color,thumbEl){const img=document.getElementById('modal-main-img');if(img){img.style.opacity='0.5';setTimeout(()=>{img.src=src;img.style.opacity='1'},200)}if(color){const select=document.getElementById('modal-color');if(select)select.value=color}document.querySelectorAll('.thumb-img').forEach(el=>el.classList.remove('active'));if(thumbEl)thumbEl.classList.add('active')}
function onColorChange(select){const option=select.options[select.selectedIndex];const imgSrc=option.getAttribute('data-img');if(imgSrc){document.getElementById('modal-main-img').src=imgSrc;document.querySelectorAll('.thumb-img').forEach(thumb=>{thumb.classList.toggle('active',thumb.getAttribute('alt')===select.value)})}}
function updateWishlistBtn(btn){btn.classList.toggle('active');const icon=btn.querySelector('i');icon.classList.toggle('fas');icon.classList.toggle('far')}
function addToCartFromModal(){if(!currentModalProduct)return;const size=document.getElementById('modal-size').value;const colorSelect=document.getElementById('modal-color');const color=colorSelect.value;const variantImg=colorSelect.options[colorSelect.selectedIndex].getAttribute('data-img');const price=currentModalProduct.sale_price||currentModalProduct.price;const existing=cart.find(item=>item.id===currentModalProduct.id&&item.selectedSize===size&&item.selectedColor===color);if(existing){existing.quantity++}else{cart.push({...currentModalProduct,img:variantImg||currentModalProduct.img,selectedSize:size,selectedColor:color,finalPrice:price,quantity:1,cartId:Date.now()})}saveToStorage('rr_cart',cart);updateCartUI();closeModal();showToast(`Added ${currentModalProduct.name} to cart`);toggleCart()}
function addToCartFromSticky(){addToCartFromModal()}
function updateCartUI(){const container=document.getElementById('cart-items');const count=document.getElementById('cart-count');const mobileCount=document.getElementById('mobile-cart-count');const total=document.getElementById('cart-total');const totalQty=cart.reduce((acc,item)=>acc+item.quantity,0);count.textContent=totalQty;if(mobileCount){mobileCount.textContent=totalQty;mobileCount.style.display=totalQty>0?'flex':'none'}let totalPrice=0;if(cart.length===0){container.innerHTML=`<div class="empty-state"><img src="https://files.fm/thumb.php?i=4wunrd26s5" alt="RARE ROOT"><p>Your cart is empty</p><button class="btn-primary" onclick="toggleCart()">Start Shopping</button></div>`}else{container.innerHTML='';cart.forEach(item=>{totalPrice+=item.finalPrice*item.quantity;container.innerHTML+=`<div class="drawer-item"><img src="${item.img}" alt="${item.name}"><div class="drawer-item-info"><div class="drawer-item-name">${item.name}</div><div class="drawer-item-meta">${item.selectedSize} | ${item.selectedColor}</div><div class="drawer-item-price">â‚¦${item.finalPrice.toLocaleString()}</div><div class="qty-controls"><button class="qty-btn" onclick="updateQty(${item.cartId},-1)">-</button><span>${item.quantity}</span><button class="qty-btn" onclick="updateQty(${item.cartId},1)">+</button></div></div><div class="remove-btn" onclick="removeFromCart(${item.cartId})"><i class="fas fa-times"></i></div></div>`})}total.textContent='â‚¦'+totalPrice.toLocaleString()}
function updateQty(cartId,delta){const item=cart.find(i=>i.cartId===cartId);if(item){item.quantity+=delta;if(item.quantity<=0)removeFromCart(cartId);else{saveToStorage('rr_cart',cart);updateCartUI()}}}
function removeFromCart(cartId){cart=cart.filter(item=>item.cartId!==cartId);saveToStorage('rr_cart',cart);updateCartUI()}
function toggleCart(){const drawer=document.getElementById('cart-drawer');const overlay=document.getElementById('overlay');const isOpen=drawer.classList.contains('open');if(isOpen){drawer.classList.remove('open');overlay.classList.remove('active');document.body.style.overflow=''}else{closeAllDrawers();drawer.classList.add('open');overlay.classList.add('active');document.body.style.overflow='hidden'}}
function toggleWishlistItem(productId){const product=products.find(p=>p.id===productId);if(!product)return;const index=wishlist.findIndex(item=>item.id===productId);if(index>-1){wishlist.splice(index,1);showToast('Removed from wishlist')}else{wishlist.push(product);showToast('Added to wishlist')}saveToStorage('rr_wishlist',wishlist);updateWishlistUI();initializeShop()}
function updateWishlistUI(){const container=document.getElementById('wishlist-items');const count=document.getElementById('wishlist-count');const mobileCount=document.getElementById('mobile-wishlist-count');count.textContent=wishlist.length;if(mobileCount){mobileCount.textContent=wishlist.length;mobileCount.style.display=wishlist.length>0?'flex':'none'}if(wishlist.length===0){container.innerHTML=`<div class="empty-state"><i class="far fa-heart" style="font-size:3rem;color:rgba(255,255,255,0.3);margin-bottom:15px;"></i><p>Your wishlist is empty</p><button class="btn-primary" onclick="toggleWishlist()">Start Shopping</button></div>`}else{container.innerHTML='';wishlist.forEach(item=>{container.innerHTML+=`<div class="drawer-item"><img src="${item.img}" alt="${item.name}"><div class="drawer-item-info"><div class="drawer-item-name">${item.name}</div><div class="drawer-item-price">â‚¦${(item.sale_price||item.price).toLocaleString()}</div></div><div class="drawer-item-actions"><div class="remove-btn" onclick="toggleWishlistItem('${item.id}')"><i class="fas fa-times"></i></div></div></div>`})}}
function toggleWishlist(){const drawer=document.getElementById('wishlist-drawer');const overlay=document.getElementById('overlay');const isOpen=drawer.classList.contains('open');if(isOpen){drawer.classList.remove('open');overlay.classList.remove('active');document.body.style.overflow=''}else{closeAllDrawers();drawer.classList.add('open');overlay.classList.add('active');document.body.style.overflow='hidden'}}
function moveWishlistToCart(){wishlist.forEach(item=>{cart.push({...item,selectedSize:item.sizes?item.sizes[0]:'One Size',selectedColor:item.variants&&item.variants[0]?item.variants[0].color:'Standard',finalPrice:item.sale_price||item.price,quantity:1,cartId:Date.now()+Math.random()})});wishlist=[];saveToStorage('rr_cart',cart);saveToStorage('rr_wishlist',wishlist);updateCartUI();updateWishlistUI();toggleWishlist();toggleCart();showToast('All items added to cart')}
function addToRecentlyViewed(product){recentlyViewed=recentlyViewed.filter(p=>p.id!==product.id);recentlyViewed.unshift(product);recentlyViewed=recentlyViewed.slice(0,8);saveToStorage('rr_recently_viewed',recentlyViewed);renderRecentlyViewed()}
function renderRecentlyViewed(){const section=document.getElementById('recently-viewed');const container=document.getElementById('recent-grid');if(recentlyViewed.length===0){section.style.display='none';return}section.style.display='block';container.innerHTML=recentlyViewed.map(item=>`<div class="recent-item" onclick="openProductModal('${item.id}')"><img src="${item.img}" alt="${item.name}"><div class="name">${item.name}</div><div class="price">â‚¦${(item.sale_price||item.price).toLocaleString()}</div></div>`).join('')}
function handleSearch(query){const suggestions=document.getElementById('search-suggestions');if(!query.trim()){suggestions.classList.remove('active');initializeShop();return}const term=query.toLowerCase();const matches=products.filter(p=>!p.hidden&&(p.name.toLowerCase().includes(term)||p.category.toLowerCase().includes(term)||(p.description&&p.description.toLowerCase().includes(term)))).slice(0,5);if(matches.length>0){suggestions.innerHTML=matches.map(p=>`<div class="suggestion-item" onclick="openProductModal('${p.id}');document.getElementById('search-suggestions').classList.remove('active');"><img src="${p.img}" alt="${p.name}"><div class="info"><div class="name">${p.name}</div><div class="price">â‚¦${(p.sale_price||p.price).toLocaleString()}</div></div></div>`).join('');suggestions.classList.add('active')}else{suggestions.classList.remove('active')}document.querySelectorAll('.grid').forEach(grid=>{grid.innerHTML='';matches.forEach(product=>{grid.appendChild(createProductCard(product))})})}
document.addEventListener('click',(e)=>{if(!e.target.closest('.search-box')){document.getElementById('search-suggestions').classList.remove('active')}});
function checkoutPaystack(){if(cart.length===0){showToast('Your cart is empty!');return}const email=document.getElementById('checkout-email').value.trim();if(!email||!email.includes('@')){showToast('Please enter a valid email');return}const total=cart.reduce((sum,item)=>sum+item.finalPrice*item.quantity,0);try{const handler=PaystackPop.setup({key:PAYSTACK_PUBLIC_KEY,email:email,amount:Math.round(total*100),currency:'NGN',ref:'RR-'+Date.now(),metadata:{cart:cart.map(i=>({id:i.id,name:i.name,size:i.selectedSize,color:i.selectedColor,qty:i.quantity,unit_price:i.finalPrice})),total:total},callback:function(response){showToast('Payment successful! Ref: '+response.reference);recordOrder(email,total,response.reference);cart=[];saveToStorage('rr_cart',cart);updateCartUI();toggleCart();saveToStorage('rr_email',email)},onClose:function(){showToast('Payment cancelled')}});handler.openIframe()}catch(e){console.error(e);alert('Payment initialization failed')}}
function recordOrder(email,total,reference){try{initFirebase();db.collection('orders').add({email,total,reference,status:'paid',items:cart.map(i=>({id:i.id,name:i.name,size:i.selectedSize,color:i.selectedColor,qty:i.quantity,unit_price:i.finalPrice})),createdAt:firebase.firestore.FieldValue.serverTimestamp()})}catch(err){console.error('Record order error',err)}}
function openTrackModal(){pushModalState('track');document.getElementById('track-modal').style.display='block';document.body.classList.add('modal-open')}
function closeTrackModal(){document.getElementById('track-modal').style.display='none';document.body.classList.remove('modal-open')}
async function findOrder(){try{initFirebase();const code=document.getElementById('track-code').value.trim();const ref=document.getElementById('track-ref').value.trim();const resultEl=document.getElementById('track-result');if(!code&&!ref){resultEl.innerHTML='<p style="opacity:0.6;">Enter tracking code or reference.</p>';return}resultEl.innerHTML='<p style="opacity:0.6;">Searching...</p>';let q;if(code){q=await db.collection('orders').where('trackingCode','==',code).limit(1).get()}else{q=await db.collection('orders').where('reference','==',ref).limit(1).get()}if(q.empty){resultEl.innerHTML='<p style="opacity:0.6;">No order found.</p>';return}const order=q.docs[0].data();const itemsList=(order.items||[]).map(i=>`${i.name} â€¢ ${i.size}/${i.color} x${i.qty}`).join('<br>');resultEl.innerHTML=`<div class="glass-card" style="padding:15px;"><div style="font-weight:bold;color:var(--text-gold);">Status: ${order.status||'Processing'}</div><div style="margin-top:8px;font-size:0.9rem;opacity:0.8;">Total: â‚¦${(order.total||0).toLocaleString()}</div>${order.trackingCode?`<div style="margin-top:8px;">Tracking: <strong>${order.trackingCode}</strong></div>`:''}<div style="margin-top:8px;font-size:0.85rem;opacity:0.8;">Items:<br>${itemsList}</div></div>`}catch(e){console.error(e);showToast('Failed to track order')}}
function openSizeGuide(){pushModalState('size-guide');document.getElementById('size-guide-modal').style.display='block';document.body.classList.add('modal-open')}
function closeSizeGuide(){document.getElementById('size-guide-modal').style.display='none';document.body.classList.remove('modal-open')}
function showSizeTab(tab,btn){document.querySelectorAll('.size-tab').forEach(t=>t.classList.remove('active'));document.querySelectorAll('.size-tab-content').forEach(c=>c.style.display='none');btn.classList.add('active');document.getElementById('size-'+tab).style.display='block'}
function openShippingModal(){pushModalState('shipping');document.getElementById('shipping-modal').style.display='block';document.body.classList.add('modal-open')}
function closeShippingModal(){document.getElementById('shipping-modal').style.display='none';document.body.classList.remove('modal-open')}
function openReviewModal(){document.getElementById('review-modal').style.display='block'}
function closeReviewModal(){document.getElementById('review-modal').style.display='none';currentRating=0;document.querySelectorAll('#star-rating i').forEach(s=>s.classList.remove('active'));document.getElementById('review-text').value=''}
function setRating(rating){currentRating=rating;document.querySelectorAll('#star-rating i').forEach((star,i)=>{star.classList.toggle('active',i<rating)})}
function submitReview(){if(currentRating===0){showToast('Please select a rating');return}const text=document.getElementById('review-text').value.trim();if(!text){showToast('Please write a review');return}showToast('Thank you for your review!');closeReviewModal()}
function shareProduct(productId,platform){const product=products.find(p=>p.id===productId);if(!product)return;const url=window.location.origin+'?product='+productId;const text=`Check out ${product.name} from RARE ROOT!`;let shareUrl='';switch(platform){case'whatsapp':shareUrl=`https://wa.me/?text=${encodeURIComponent(text+' '+url)}`;break;case'facebook':shareUrl=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;break;case'twitter':shareUrl=`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;break;default:if(navigator.share){navigator.share({title:product.name,text:text,url:url});return}showToast('Share options coming soon');return}window.open(shareUrl,'_blank')}
function copyProductLink(productId){const url=window.location.origin+'?product='+productId;navigator.clipboard.writeText(url).then(()=>{showToast('Link copied to clipboard')})}
let navigationHistory=[],isNavigatingBack=false;function pushModalState(modalType){if(!isNavigatingBack){navigationHistory.push({type:modalType});history.pushState({modal:modalType},'',window.location.href)}isNavigatingBack=false}
window.addEventListener('popstate',function(event){isNavigatingBack=true;closeModal();closeTrackModal();closeSizeGuide();closeShippingModal();closeReviewModal();closeAllDrawers();if(navigationHistory.length>0)navigationHistory.pop()});
window.onclick=function(event){const modals=['product-modal','track-modal','size-guide-modal','shipping-modal','review-modal'];modals.forEach(modalId=>{const modal=document.getElementById(modalId);if(event.target===modal){if(modalId==='product-modal')closeModal();else if(modalId==='track-modal')closeTrackModal();else if(modalId==='size-guide-modal')closeSizeGuide();else if(modalId==='shipping-modal')closeShippingModal();else if(modalId==='review-modal')closeReviewModal()}})}
function toggleMenu(){const drawer=document.getElementById('menu-drawer');const overlay=document.getElementById('overlay');const isOpen=drawer.classList.contains('open');if(isOpen){drawer.classList.remove('open');overlay.classList.remove('active');document.body.style.overflow=''}else{closeAllDrawers();drawer.classList.add('open');overlay.classList.add('active');document.body.style.overflow='hidden'}}
function closeAllDrawers(){document.getElementById('menu-drawer').classList.remove('open');document.getElementById('cart-drawer').classList.remove('open');document.getElementById('wishlist-drawer').classList.remove('open');document.getElementById('overlay').classList.remove('active');document.body.style.overflow=''}
function showToast(message){const toast=document.getElementById('toast');if(!toast)return;toast.querySelector('span').textContent=message;toast.classList.add('show');setTimeout(()=>{toast.classList.remove('show')},3000)}
function scrollToProducts(){document.querySelector('.filter-bar').scrollIntoView({behavior:'smooth'})}
function goToHome(){window.scrollTo({top:0,behavior:'smooth'})}
function openSearchMobile(){const searchInput=document.getElementById('search-input');if(searchInput){searchInput.focus();showToast('Type to search products')}}
function openSocial(platform){showToast(platform.charAt(0).toUpperCase()+platform.slice(1)+' link coming soon')}
function closePromo(){document.getElementById('promo-banner').style.display='none';document.getElementById('main-nav').style.top='0'}
function subscribeNewsletter(e){e.preventDefault();showToast('Welcome to the inner circle!')}
function subscribePopup(e){e.preventDefault();showToast('Welcome! Check your email for 10% off');closeNewsletterPopup()}
function closeNewsletterPopup(){document.getElementById('newsletter-popup').classList.remove('active');localStorage.setItem('rr_newsletter_closed','true')}
function acceptCookies(){document.getElementById('cookie-banner').classList.remove('active');localStorage.setItem('rr_cookies_accepted','true')}
document.addEventListener('DOMContentLoaded',()=>{cart=loadFromStorage('rr_cart');wishlist=loadFromStorage('rr_wishlist');recentlyViewed=loadFromStorage('rr_recently_viewed');fetchProducts();const savedEmail=loadFromStorage('rr_email','');const emailInput=document.getElementById('checkout-email');if(emailInput&&savedEmail)emailInput.value=savedEmail;setTimeout(()=>{if(!localStorage.getItem('rr_newsletter_closed')){document.getElementById('newsletter-popup').classList.add('active')}},5000);if(!localStorage.getItem('rr_cookies_accepted')){document.getElementById('cookie-banner').classList.add('active')}window.addEventListener('scroll',()=>{const nav=document.getElementById('main-nav');if(window.scrollY>50){nav.classList.add('scrolled')}else{nav.classList.remove('scrolled')}})});
document.addEventListener('keydown',(e)=>{if(e.key==='Escape'){closeModal();closeTrackModal();closeSizeGuide();closeShippingModal();closeReviewModal();closeAllDrawers()}});
    </script>
</body>
</html>
